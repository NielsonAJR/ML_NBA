[
  {
    "objectID": "modelo2.html#definição-da-variável-resposta",
    "href": "modelo2.html#definição-da-variável-resposta",
    "title": "Abordagem Alternativa para a Classificação de Posições",
    "section": "2 Definição da Variável Resposta",
    "text": "2 Definição da Variável Resposta\n\n2.1 Conceito de Backcourt e Frontcourt\nNo contexto deste estudo, os jogadores são classificados de acordo com sua função predominante em quadra:\n\nBackcourt: jogadores com maior responsabilidade na condução de bola, criação ofensiva e organização do jogo, tipicamente associados às posições de armador (PG) e ala-armador (SG).\nFrontcourt: jogadores com atuação predominante próxima à cesta, maior presença física e participação em ações como rebotes e proteção de aro, geralmente associados às posições de ala (SF), ala-pivô (PF) e pivô (C).\n\nEssa distinção prioriza aspectos funcionais em detrimento de rótulos posicionais rígidos.\n\n\n2.2 Construção da Variável\nA variável resposta foi construída a partir da posição original do jogador, utilizando a seguinte regra de mapeamento:\n\nPG e SG → Backcourt\n\nSF, PF e C → Frontcourt\n\nEssa transformação permite reestruturar o problema de classificação em um cenário binário, mantendo coerência com o papel desempenhado pelos atletas em quadra.\n\n\nMostrar código\ndados_analise &lt;- dados_analise %&gt;%\n  mutate(\n    Court = factor(case_when(\n      Position %in% c(\"PG\", \"SG\") ~ \"Backcourt\",\n      Position %in% c(\"SF\", \"PF\", \"C\") ~ \"Frontcourt\",\n    )\n  )) |&gt;\n  dplyr::select(-Position)"
  },
  {
    "objectID": "modelo2.html#preparação-dos-dados-com-a-nova-variável",
    "href": "modelo2.html#preparação-dos-dados-com-a-nova-variável",
    "title": "Abordagem Alternativa para a Classificação de Posições",
    "section": "3 Preparação dos Dados Com a Nova Variável",
    "text": "3 Preparação dos Dados Com a Nova Variável\n\nDivisão: 70% treino e 30% teste\nVariável resposta: Court\n\n\n\nMostrar código\nset.seed(16723)\n\ndados_analise_split &lt;- initial_split(dados_analise, prop = .7, strata = Court)\ntrain_data &lt;- training(dados_analise_split)\ntest_data &lt;- testing(dados_analise_split)"
  },
  {
    "objectID": "modelo2.html#ajuste-do-modelo",
    "href": "modelo2.html#ajuste-do-modelo",
    "title": "Abordagem Alternativa para a Classificação de Posições",
    "section": "4 Ajuste do Modelo",
    "text": "4 Ajuste do Modelo\nUtilizando os mesmos feature engineering do primeiro modelo\n\n4.1 Pré-Processamento\n\n\nMostrar código\ndados_analise_rec &lt;- recipe(Court ~ ., data = train_data) |&gt;\n  \n  step_mutate(\n    AST_TOV_RATIO = AST / (TOV + 0.1),\n    REB_HEIGHT_INTER = REB * Altura,\n    PLAYMAKER_SCORE = AST - TOV,\n    RIM_PROTECT = REB + BLK,\n    PTS_EFF = PTS * FG_PCT) |&gt;  \n  step_YeoJohnson(all_numeric_predictors()) |&gt; # Transformação Yeo-Johnson\n  step_normalize(all_numeric_predictors()) |&gt; # normaliza variáveis numéricas para terem média 0 e variância 1\n  step_corr(all_numeric_predictors(), threshold = 0.8,\n            method = \"spearman\"\n  ) # remove preditores que tenham alta correlação com algum outro preditor\n\n\n\n\nMostrar código\nprepped_data &lt;- dados_analise_rec |&gt; # usa a receita\n  prep() |&gt; # aplica a receita no conjunto de treinamento\n  juice()# extrai apenas o dataframe preprocessado\n\n\n\n\n4.2 Conjunto de Validação\nUtilizando o método k-fold cross validation para construir um conjunto de validação com k-folds. Considerando k = 10.\n\n\nMostrar código\ncv_folds &lt;- vfold_cv(train_data, v = 10, strata = Court)\n\n\n\n\n4.3 Otimização de Hiperparâmetros\n\n\nMostrar código\nknn_spec &lt;- nearest_neighbor(neighbors = tune()) %&gt;% # K-NN\n  set_engine(\"kknn\")%&gt;%\n  set_mode(\"classification\")\n\nnbayes_spec &lt;- naive_Bayes() %&gt;% # Naive Bayes\n  set_engine(\"naivebayes\") %&gt;%\n  set_mode(\"classification\")\n\n\nlogistic_spec &lt;- logistic_reg() %&gt;% # RL\n  set_engine(engine = \"glm\") %&gt;%\n  set_mode(\"classification\")\n\nlda_spec &lt;- discrim_linear() %&gt;% # Linear discriminant analysis\n  set_engine(\"MASS\") %&gt;%\n  set_mode(\"classification\")\n\nqda_spec &lt;- discrim_quad() %&gt;% # Quadratic discriminant analysis\n  set_engine(\"MASS\") %&gt;%\n  set_mode(\"classification\")\n\n\n\n\nMostrar código\nwf = workflow_set(\n  preproc = list(dados_analise_rec),\n  models = list(\n    knn_fit = knn_spec,\n    nbayes_fit = nbayes_spec,\n    linear_fit = logistic_spec,\n    lda_fit = lda_spec,\n    qda_fit = qda_spec\n  )\n) %&gt;%\n  mutate(wflow_id = gsub(\"(recipe_)\", \"\", wflow_id))\n\n\n\n\nMostrar código\ngrid_ctrl = control_grid(\n  save_pred = TRUE,\n  parallel_over = \"resamples\",\n  save_workflow = TRUE\n)\ngrid_results = wf %&gt;%\n  workflow_map(\n    seed = 16723,\n    resamples = cv_folds,\n    grid = 10,\n    control = grid_ctrl\n  )\n\n\nUsando a acurácia no conjunto de validão de acordo com o melhor conjunto de hiperparâmetros obtido para cada modelo.\n\n\nMostrar código\nautoplot(grid_results, metric = \"accuracy\")\n\n\n\n\n\n\n\n\n\nOrdenando pelos melhores\n\n\nMostrar código\nautoplot(grid_results, select_best = TRUE ,metric = \"accuracy\")\n\n\n\n\n\n\n\n\n\nUtilizando outras métricas para avaliar\n\n\nMostrar código\nautoplot(grid_results)\n\n\n\n\n\n\n\n\n\nOrdenando os modelos pela métrica de acurácia no conjunto de Validação\n\n\nMostrar código\nresults_acc = workflowsets::rank_results(grid_results,\n                                         select_best = TRUE,\n                                         rank_metric = \"accuracy\") %&gt;%\n  filter(.metric == \"accuracy\") %&gt;%\n  dplyr::select(wflow_id, mean, std_err, model, rank)\nresults_acc %&gt;% gt()\n\n\n\n\n\n\n\n\nwflow_id\nmean\nstd_err\nmodel\nrank\n\n\n\n\nlda_fit\n0.8978000\n0.01606318\ndiscrim_linear\n1\n\n\nlinear_fit\n0.8954164\n0.01928389\nlogistic_reg\n2\n\n\nnbayes_fit\n0.8905437\n0.01111032\nnaive_Bayes\n3\n\n\nknn_fit\n0.8884977\n0.01185536\nnearest_neighbor\n4\n\n\nqda_fit\n0.8528226\n0.01956599\ndiscrim_quad\n5\n\n\n\n\n\n\n\nEscolhendo o melhor conjunto de hiperparâmetros para cada modelo de acordo com a acurácia no conjunto de validação.\n\n\nMostrar código\nbest_set_linear = grid_results %&gt;% \n  extract_workflow_set_result(\"linear_fit\") %&gt;% \n  select_best(metric = \"accuracy\")\nbest_set_knn = grid_results %&gt;% \n  extract_workflow_set_result(\"knn_fit\") %&gt;% \n  select_best(metric = \"accuracy\")\nbest_set_nbayes = grid_results %&gt;%\n  extract_workflow_set_result(\"nbayes_fit\") %&gt;% \n  select_best(metric = \"accuracy\")\nbest_set_lda = grid_results %&gt;% \n  extract_workflow_set_result(\"lda_fit\") %&gt;% \n  select_best(metric = \"accuracy\")\nbest_set_qda = grid_results %&gt;% \n  extract_workflow_set_result(\"qda_fit\") %&gt;% \n  select_best(metric = \"accuracy\")"
  },
  {
    "objectID": "modelo2.html#avaliação-dos-modelos-no-conjunto-de-teste",
    "href": "modelo2.html#avaliação-dos-modelos-no-conjunto-de-teste",
    "title": "Abordagem Alternativa para a Classificação de Posições",
    "section": "5 Avaliação dos modelos no conjunto de teste",
    "text": "5 Avaliação dos modelos no conjunto de teste\n\n\nMostrar código\ntest_results &lt;- function(rc_rslts, fit_obj, par_set, split_obj) {\n  res &lt;- rc_rslts %&gt;%\n    extract_workflow(fit_obj) %&gt;%\n    finalize_workflow(par_set) %&gt;%\n    last_fit(split = split_obj,\n             metrics = metric_set(\n               accuracy,roc_auc,\n               f_meas,precision,\n               recall,spec,kap))\n  res\n}\n\n\n\n\nMostrar código\ntest_results_linear = test_results(grid_results,\"linear_fit\",best_set_linear,dados_analise_split)\ntest_results_knn = test_results(grid_results,\"knn_fit\",best_set_knn,dados_analise_split)\ntest_results_nbayes = test_results(grid_results,\"nbayes_fit\",best_set_nbayes,dados_analise_split)\ntest_results_lda = test_results(grid_results,\"lda_fit\",best_set_lda,dados_analise_split)\ntest_results_qda = test_results(grid_results,\"qda_fit\",best_set_qda,dados_analise_split)\n\n\n\n\nMostrar código\nmetrics_table = rbind(\n  collect_metrics(test_results_linear)$.estimate,\n  collect_metrics(test_results_knn)$.estimate,\n  collect_metrics(test_results_nbayes)$.estimate,\n  collect_metrics(test_results_lda)$.estimate,\n  collect_metrics(test_results_qda)$.estimate\n)\n\nmetrics_table &lt;- round(metrics_table, 4)\nrnms = c(\"logistic_reg\",\"k_nn\",\"naive_bayes\", \"lin_discr\",\"quad_discr\")\nmetrics_table &lt;- cbind(rnms, metrics_table)\nmetrics_table &lt;- metrics_table %&gt;% dplyr::as_tibble()\n\n\n\n\nMostrar código\ncolnames(metrics_table) = c(\"method\",\"acc\",\"roc_auc\",\"f_meas\",\n                            \"precision\",\"recall\",\"spec\",\"kappa\")\n\n\n\n\nMostrar código\nmetrics_table %&gt;%\n  arrange(desc(acc),desc(roc_auc),desc(f_meas),desc(kappa)) %&gt;%\n  gt()\n\n\n\n\n\n\n\n\nmethod\nacc\nroc_auc\nf_meas\nprecision\nrecall\nspec\nkappa\n\n\n\n\nlin_discr\n0.8962\n0.8834\n0.878\n0.8889\n0.902\n0.7898\n0.9614\n\n\nlogistic_reg\n0.8852\n0.8743\n0.8488\n0.9012\n0.8725\n0.7689\n0.9541\n\n\nnaive_bayes\n0.8798\n0.8736\n0.8172\n0.9383\n0.8333\n0.76\n0.9563\n\n\nk_nn\n0.8306\n0.8144\n0.7907\n0.8395\n0.8235\n0.6588\n0.9319\n\n\nquad_discr\n0.8197\n0.7975\n0.7927\n0.8025\n0.8333\n0.635\n0.8901"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "O Desafio do Scouting Moderno na NBA",
    "section": "",
    "text": "Este projeto apresenta uma implementação de um Workflow para um projeto de Aprendizagem de Máquina (ML) aplicado à análise de dados esportivos, com enfâse no desempenho de jogadores da National Basketball Association (NBA) durante a temporada 2021-2022."
  },
  {
    "objectID": "index.html#uma-breve-introdução",
    "href": "index.html#uma-breve-introdução",
    "title": "O Desafio do Scouting Moderno na NBA",
    "section": "",
    "text": "Este projeto apresenta uma implementação de um Workflow para um projeto de Aprendizagem de Máquina (ML) aplicado à análise de dados esportivos, com enfâse no desempenho de jogadores da National Basketball Association (NBA) durante a temporada 2021-2022."
  },
  {
    "objectID": "index.html#o-grande-desafio-do-basquete-moderno",
    "href": "index.html#o-grande-desafio-do-basquete-moderno",
    "title": "O Desafio do Scouting Moderno na NBA",
    "section": "2 O Grande Desafio do Basquete Moderno",
    "text": "2 O Grande Desafio do Basquete Moderno\nA evolução para um jogo sem posições fixas (positionless basketball) criou um paradoxo para scouts e analistas:\n\nJogadores multifuncionais como Nikola Jokić ou Giannis Antetokounmpo não se encaixam em categorias tradicionais.\nA classificação por “olhômetro” ou estatísticas isoladas é subjetiva e propensa a viés.\nUm erro de avaliação no draft pode custar milhões e o futuro de uma franquia.\n\nQuestionamento: Como identificar, de forma objetiva e escalável, onde um atleta terá maior impacto em quadra?"
  },
  {
    "objectID": "index.html#a-solução-usando-machine-learning",
    "href": "index.html#a-solução-usando-machine-learning",
    "title": "O Desafio do Scouting Moderno na NBA",
    "section": "3 A Solução usando Machine Learning",
    "text": "3 A Solução usando Machine Learning\nEste projeto implementa um pipeline completo de Machine Learning que oferece uma resposta baseada em dados para o desafio do scouting:\nNosso Objetivo Principal: Desenvolver e disponibilizar uma ferramenta reprodutível de classificação que auxilie na projeção de posição e potencial de jogadores.\nObjetivos Específicos:\n\nColetar e processar estatísticas da NBA (temporada 2021-22).\nImplementar e comparar múltiplos algoritmos de classificação (KNN, Naive Bayes, Regressão Logistica/Multinomial, etc.).\nAvaliar rigorosamente os modelos com métricas multiclasse.\nExtrair insights sobre quais atributos definem cada função em quadra.\nDisponibilizar uma demonstração interativa para testar o classificador."
  },
  {
    "objectID": "index.html#metodologia",
    "href": "index.html#metodologia",
    "title": "O Desafio do Scouting Moderno na NBA",
    "section": "4 Metodologia",
    "text": "4 Metodologia\nO projeto segue um pipeline estruturado:\n\nColeta dos dados brutos\nExploração dos dados utilizando técnicas de análise exploratória\nPré-processamento com limpeza e transformação\nModelagem utilizando algoritmos de ML\nAvaliação dos modelos\nInterpretação dos resultados"
  },
  {
    "objectID": "index.html#ferramentas-do-projeto",
    "href": "index.html#ferramentas-do-projeto",
    "title": "O Desafio do Scouting Moderno na NBA",
    "section": "5 Ferramentas do Projeto",
    "text": "5 Ferramentas do Projeto\n\nLinguagem: R\nEcossistema para ML: tidymodels (para modelagem), tidyverse (para manipulação de dados)\nVisualização: ggplot2\nColeta de Dados: hoopR\nDocumentação: Quarto"
  },
  {
    "objectID": "aed.html",
    "href": "aed.html",
    "title": "Análise Exploratória de Dados",
    "section": "",
    "text": "Mostrar código\ndados_analise |&gt;\n  dplyr::select(AGE, PTS, AST, REB, OREB, DREB, TOV, STL, BLK , Peso, Altura) |&gt; \n  summarise(across(\n    everything(),\n    list(\n      Média   = ~mean(.x, na.rm = TRUE),\n      Mediana = ~median(.x, na.rm = TRUE),\n      SD      = ~sd(.x, na.rm = TRUE),\n      Mín     = ~min(.x, na.rm = TRUE),\n      Q1      = ~quantile(.x, 0.25, na.rm = TRUE),\n      Q3      = ~quantile(.x, 0.75, na.rm = TRUE),\n      Máx     = ~max(.x, na.rm = TRUE)\n    ),\n    .names = \"{.col}_{.fn}\"\n  )) |&gt;\n  pivot_longer(\n    cols = everything(),\n    names_to = c(\"Variável\", \"Estatística\"),\n    names_sep = \"_\"\n  ) |&gt;\n  pivot_wider(\n    names_from = Variável,\n    values_from = value\n  ) |&gt;\n  kable(digits = 2, caption = \"Resumo Estatístico dos Dados (per36)\")\n\n\n\nResumo Estatístico dos Dados (per36)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEstatística\nAGE\nPTS\nAST\nREB\nOREB\nDREB\nTOV\nSTL\nBLK\nPeso\nAltura\n\n\n\n\nMédia\n26.17\n14.18\n3.19\n6.59\n1.71\n4.88\n1.88\n1.22\n0.71\n97.58\n1.98\n\n\nMediana\n25.00\n13.90\n2.60\n5.80\n1.10\n4.40\n1.70\n1.00\n0.50\n97.07\n1.98\n\n\nSD\n4.15\n6.60\n2.18\n3.41\n1.70\n2.25\n1.42\n1.40\n0.84\n11.13\n0.08\n\n\nMín\n19.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n72.57\n1.75\n\n\nQ1\n23.00\n10.60\n1.70\n4.40\n0.60\n3.50\n1.20\n0.70\n0.20\n89.36\n1.93\n\n\nQ3\n29.00\n17.40\n4.40\n8.60\n2.40\n6.20\n2.30\n1.40\n0.90\n104.78\n2.03\n\n\nMáx\n42.00\n85.40\n13.10\n29.70\n17.90\n13.80\n18.60\n18.60\n12.80\n141.07\n2.29\n\n\n\n\n\n\n\n\n\n\nMostrar código\ntable(dados_analise$Position) |&gt;\n  kable(col.names = c(\"Posição\", \"Frequência\"))\n\n\n\n\n\nPosição\nFrequência\n\n\n\n\nC\n109\n\n\nPF\n106\n\n\nPG\n111\n\n\nSF\n122\n\n\nSG\n157"
  },
  {
    "objectID": "aed.html#estatísticas-descritivas",
    "href": "aed.html#estatísticas-descritivas",
    "title": "Análise Exploratória de Dados",
    "section": "",
    "text": "Mostrar código\ndados_analise |&gt;\n  dplyr::select(AGE, PTS, AST, REB, OREB, DREB, TOV, STL, BLK , Peso, Altura) |&gt; \n  summarise(across(\n    everything(),\n    list(\n      Média   = ~mean(.x, na.rm = TRUE),\n      Mediana = ~median(.x, na.rm = TRUE),\n      SD      = ~sd(.x, na.rm = TRUE),\n      Mín     = ~min(.x, na.rm = TRUE),\n      Q1      = ~quantile(.x, 0.25, na.rm = TRUE),\n      Q3      = ~quantile(.x, 0.75, na.rm = TRUE),\n      Máx     = ~max(.x, na.rm = TRUE)\n    ),\n    .names = \"{.col}_{.fn}\"\n  )) |&gt;\n  pivot_longer(\n    cols = everything(),\n    names_to = c(\"Variável\", \"Estatística\"),\n    names_sep = \"_\"\n  ) |&gt;\n  pivot_wider(\n    names_from = Variável,\n    values_from = value\n  ) |&gt;\n  kable(digits = 2, caption = \"Resumo Estatístico dos Dados (per36)\")\n\n\n\nResumo Estatístico dos Dados (per36)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEstatística\nAGE\nPTS\nAST\nREB\nOREB\nDREB\nTOV\nSTL\nBLK\nPeso\nAltura\n\n\n\n\nMédia\n26.17\n14.18\n3.19\n6.59\n1.71\n4.88\n1.88\n1.22\n0.71\n97.58\n1.98\n\n\nMediana\n25.00\n13.90\n2.60\n5.80\n1.10\n4.40\n1.70\n1.00\n0.50\n97.07\n1.98\n\n\nSD\n4.15\n6.60\n2.18\n3.41\n1.70\n2.25\n1.42\n1.40\n0.84\n11.13\n0.08\n\n\nMín\n19.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n72.57\n1.75\n\n\nQ1\n23.00\n10.60\n1.70\n4.40\n0.60\n3.50\n1.20\n0.70\n0.20\n89.36\n1.93\n\n\nQ3\n29.00\n17.40\n4.40\n8.60\n2.40\n6.20\n2.30\n1.40\n0.90\n104.78\n2.03\n\n\nMáx\n42.00\n85.40\n13.10\n29.70\n17.90\n13.80\n18.60\n18.60\n12.80\n141.07\n2.29\n\n\n\n\n\n\n\n\n\n\nMostrar código\ntable(dados_analise$Position) |&gt;\n  kable(col.names = c(\"Posição\", \"Frequência\"))\n\n\n\n\n\nPosição\nFrequência\n\n\n\n\nC\n109\n\n\nPF\n106\n\n\nPG\n111\n\n\nSF\n122\n\n\nSG\n157"
  },
  {
    "objectID": "aed.html#visualização-gráfica",
    "href": "aed.html#visualização-gráfica",
    "title": "Análise Exploratória de Dados",
    "section": "2 Visualização Gráfica",
    "text": "2 Visualização Gráfica\n\n2.1 Distribuição de idade\n\n\nMostrar código\nggplot(dados_analise, aes(x = AGE)) +\n  geom_histogram(bins = 15, fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Distribuição da Idade dos Jogadores\",\n       x = \"Idade\", y = \"Frequência\")\n\n\n\n\n\n\n\n\n\n\n\n2.2 Distribuição das posições\n\n\nMostrar código\nggplot(dados_analise, aes(x = Position)) +\n  geom_bar(fill = \"steelblue\") +\n  labs(\n    title = \"Distribuição das Posições dos Jogadores\",\n    x = \"Posição\",\n    y = \"Quantidade de Jogadores\"\n  )\n\n\n\n\n\n\n\n\n\n\n\n2.3 Pontos por posição\n\n\nMostrar código\nggplot(dados_analise, aes(x = Position, y = PTS, fill = Position)) +\n  geom_boxplot() +\n  labs(title = \"Distribuição de Pontos por Posição\",\n       x = \"Posição\", y = \"Pontos\")\n\n\n\n\n\n\n\n\n\n\n\n2.4 Separabilidade entre posições\n\n\nMostrar código\nggplot(dados_analise, aes(x = AST, y = REB, color = Position)) +\n  geom_point(alpha = 0.7) +\n  labs(\n    title = \"Separabilidade entre Posições (Assistências vs Rebotes)\",\n    x = \"Assistências\",\n    y = \"Rebotes\"\n  )\n\n\n\n\n\n\n\n\n\n\n\n2.5 Eficiência no arremesso (FG%)\n\n\nMostrar código\nggplot(dados_analise, aes(x = FG_PCT)) +\n  geom_histogram(bins = 15, fill = \"darkgreen\", color = \"black\") +\n  labs(title = \"Distribuição do FG%\",\n       x = \"Field Goal %\", y = \"Frequência\")"
  },
  {
    "objectID": "aed.html#correlação-entre-variáveis-numéricas",
    "href": "aed.html#correlação-entre-variáveis-numéricas",
    "title": "Análise Exploratória de Dados",
    "section": "3 Correlação entre variáveis numéricas",
    "text": "3 Correlação entre variáveis numéricas\n\n\nMostrar código\ncorrplot(\n  cor(dados_analise %&gt;% dplyr::select(AGE, PTS, AST, REB, OREB, DREB, TOV, STL, BLK, FG_PCT, FG3_PCT, FT_PCT, Altura, Peso), use = \"complete.obs\"),\n  method = \"color\",\n  tl.col = \"black\"\n)"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Sobre",
    "section": "",
    "text": "About this site\n\n\nMostrar código\n1 + 1\n\n\n[1] 2"
  },
  {
    "objectID": "coleta.html",
    "href": "coleta.html",
    "title": "Configuração do Banco de Dados",
    "section": "",
    "text": "Mostrar código\nlibrary(hoopR) # Banco de Dados\nlibrary(tidyverse) # Framework do tidyverse\nlibrary(tidymodels) # Framework de modelagem\nlibrary(skimr) # Estatística descritiva rápida\nlibrary(DataExplorer) # Exploração do conjunto de dados\nlibrary(corrplot) # Gráfico de correlação\nlibrary(GGally) # Gráficos adicionais com estrutura ggplot2\nlibrary(stringr) # Para lidar com strings\nlibrary(glmnet) # LASSO, Ridge e Rede Elástica\nlibrary(MASS) # Discriminante Linear (LDA) e Quadrático (RL)\nlibrary(recipes) # Pré-processamento dos dados\nlibrary(class) #knn\nlibrary(themis) # Balanceamento de dados\nlibrary(discrim) # lda, qda\nlibrary(kknn) # (Kernel) K-NN\nlibrary(finetune) # Otimização fina de hiperparâmetros\nlibrary(gt)\nlibrary(naivebayes)\nlibrary(corrplot)\n\nggplot2::theme_set(theme_minimal()) # Ajustando Tema\n\n\n\n\n\n\n\nMostrar código\ndados_basicos &lt;- nba_leaguedashplayerstats(season = \"2021-22\", \n                                           per_mode = \"Per36\", \n                                           measure_type = \"Base\")$LeagueDashPlayerStats \n\n# A função puxa as informações de Altura e Peso pelo PERSON_ID/PLAYER_ID de cada Jogador\n\npegar_fisico &lt;- function(id) {\n  tryCatch({\n    res &lt;- nba_commonplayerinfo(player_id = id)\n    df &lt;- res$CommonPlayerInfo %&gt;% dplyr::select(PERSON_ID, HEIGHT, WEIGHT)\n    # Adiciona uma pausa para não sobrecarregar a API\n    Sys.sleep(0.5) \n    return(df)\n  }, error = function(e) {\n    cat(sprintf(\"Erro ou dados não encontrados para o ID: %s\\n\", id))\n    return(NULL) # Retorna NULL para IDs sem dados\n  })\n}\n\n# Roda para todos os 605 jogadores (isso vai levar alguns minutos)\ndf_todos_fisicos &lt;- map_dfr(dados_basicos$PLAYER_ID, pegar_fisico, .progress = TRUE)\n\n# Combina os dois bancos criados pelo PLAYER_ID E PERSON_ID\ndados_basicos &lt;- left_join(dados_basicos, df_todos_fisicos, by = c(\"PLAYER_ID\" = \"PERSON_ID\"))\n\n\n# Função para converter altura (6-8 -&gt; metros)\nconverter_altura &lt;- function(valor) {\n  partes &lt;- as.numeric(unlist(strsplit(valor, \"-\")))\n  # (Pés * 30.48) + (Polegadas * 2.54)\n  cm &lt;- (partes[1] * 30.48) + (partes[2] * 2.54)\n  return(cm / 100) \n}\n\n# Função para converter peso (lbs -&gt; kg)\nconverter_peso &lt;- function(lbs) {\n  return(lbs * 0.453592)\n}\n\ndados_basicos &lt;- dados_basicos |&gt;\n  rowwise() |&gt;\n  mutate(\n    Altura = converter_altura(HEIGHT),\n    Peso = converter_peso(as.numeric(WEIGHT))\n  )\n\n\ndados_analise &lt;- dados_basicos |&gt;\n  dplyr::select(PLAYER_NAME, TEAM_ABBREVIATION, AGE, PTS, AST, REB, OREB, DREB, TOV, STL, \n                BLK, FG_PCT, FG3_PCT, FT_PCT, Peso, Altura) |&gt;\n  dplyr::mutate(\n    Position = case_when(\n      PLAYER_NAME %in% c(\"Trae Young\", \"Luka Dončić\", \"Stephen Curry\", \"Ja Morant\", \n                         \"LaMelo Ball\", \"Darius Garland\", \"Russell Westbrook\", \n                         \"Dejounte Murray\", \"James Harden\", \"Shai Gilgeous-Alexander\", \n                         \"CJ McCollum\", \"De'Aaron Fox\", \"Fred VanVleet\", \n                         \"Tyrese Maxey\", \"Jrue Holiday\", \"Tyrese Haliburton\", \n                         \"D'Angelo Russell\", \"Cole Anthony\", \"Mike Conley\", \"Chris Paul\", \n                         \"Kevin Porter Jr.\", \"Monte Morris\", \"Spencer Dinwiddie\", \n                         \"Devonte' Graham\", \"Immanuel Quickley\", \"Dennis Schröder\", \n                         \"Davion Mitchell\", \"Marcus Smart\", \"Kyle Lowry\", \"Kyrie Irving\", \n                         \"Coby White\", \"Damian Lillard\", \"Malcolm Brogdon\", \"Tyus Jones\",\n                         \"Cameron Payne\", \"Tre Mann\", \"Gabe Vincent\", \"Jalen Suggs\", \n                         \"Frank Jackson\", \"Eric Bledsoe\", \"Patrick Beverley\", \n                         \"Raul Neto\", \"Cory Joseph\", \"Duane Washington Jr.\", \n                         \"Lonzo Ball\", \"Killian Hayes\", \"Ricky Rubio\", \"Payton Pritchard\", \n                         \"Kemba Walker\", \"Tre Jones\", \"Ish Smith\", \"Aaron Holiday\", \n                         \"Theo Maledon\", \"Lou Williams\", \"George Hill\", \"Facundo Campazzo\", \n                         \"Jose Alvarado\", \"Derrick Rose\", \"Brandon Williams\", \"D.J. Augustin\", \n                         \"Jevon Carter\", \"Jordan McLaughlin\", \"T.J. McConnell\", \"Trey Burke\", \n                         \"Saben Lee\", \"Dennis Smith Jr.\", \"Dalano Banton\", \"Trent Forrest\", \n                         \"Markelle Fultz\", \"Malachi Flynn\", \"Rajon Rondo\", \"Isaiah Thomas\", \n                         \"Keifer Sykes\", \"Brandon Goodwin\", \"Goran Dragic\", \"Elfrid Payton\", \n                         \"Kira Lewis Jr.\", \"Kris Dunn\", \"David Duke Jr.\", \"Miles McBride\", \n                         \"Brad Wanamaker\", \"Lindell Wigginton\", \"Justin Robinson\", \n                         \"Mychal Mulder\", \"Chris Chiozza\", \"Javonte Smart\", \n                         \"Devin Cannady\", \"Hassani Gravett\", \"Zavier Simpson\",\n                         \"Kevin Pangos\", \"Tim Frazier\", \"Jared Harper\", \n                         \"Brandon Knight\", \"Devon Dotson\", \"Derrick Walton Jr.\", \n                         \"Jeff Dowtin Jr.\", \"Tyler Johnson\", \"Ryan Arcidiacono\", \n                         \"Cassius Winston\", \"Myles Powell\", \"Tremont Waters\", \n                         \"Malik Newman\", \"Sharife Cooper\", \"McKinley Wright IV\", \n                         \"Darren Collison\", \"Carlik Jones\", \"Emmanuel Mudiay\", \"Tyrell Terry\", \n                         \"Cat Barber\", \"JaQuori McLaughlin\", \"Jaysean Paige\") ~ \"PG\",\n      PLAYER_NAME %in% c(\"Joel Embiid\", \"Nikola Jokić\", \"Karl-Anthony Towns\", \"LeBron James\", \n                         \"Jonas Valančiūnas\", \"Nikola Vučević\", \"Christian Wood\", \"Bam Adebayo\", \n                         \"Bobby Portis\", \"Rudy Gobert\", \"Kevin Love\", \"Deandre Ayton\", \n                         \"Montrezl Harrell\", \"Anthony Davis\", \"Jakob Poeltl\", \"Jarrett Allen\", \n                         \"Jusuf Nurkić\", \"Clint Capela\", \"Ivica Zubac\", \"Mo Bamba\", \n                         \"Dwight Powell\", \"Al Horford\", \"Alperen Sengun\", \"JaVale McGee\", \n                         \"Daniel Gafford\", \"P.J. Washington\", \"Precious Achiuwa\", \"Jaxson Hayes\", \n                         \"Naz Reid\", \"Mitchell Robinson\", \"LaMarcus Aldridge\", \"Robert Williams III\",   \n                         \"Isaiah Stewart\", \"Andre Drummond\", \"Moritz Wagner\", \"Isaiah Hartenstein\", \n                         \"Drew Eubanks\", \"Myles Turner\", \"Chimezie Metu\", \"Hassan Whiteside\", \n                         \"Steven Adams\", \"Kevon Looney\", \"Mason Plumlee\", \"Richaun Holmes\", \n                         \"Damian Jones\", \"Willy Hernangomez\", \"Nemanja Bjelica\", \"DeMarcus Cousins\", \n                         \"Dewayne Dedmon\", \"Nic Claxton\", \"Onyeka Okongwu\", \"Daniel Theis\", \n                         \"Dwight Howard\", \"Jeremiah Robinson-Earl\", \"Kelly Olynyk\", \"Serge Ibaka\", \n                         \"Blake Griffin\", \"Goga Bitadze\", \"Mike Muscala\", \"Tristan Thompson\", \n                         \"Omer Yurtseven\", \"Isaiah Jackson\", \"Jock Landale\", \"Robin Lopez\", \n                         \"Khem Birch\", \"Alex Len\", \"Taj Gibson\", \"Zach Collins\", \n                         \"Bismack Biyombo\", \"Derrick Favors\", \"DeAndre Jordan\", \"Thomas Bryant\", \n                         \"Luka Garza\", \"Moses Brown\", \"Tony Bradley\", \"Brook Lopez\", \n                         \"Gorgui Dieng\", \"Olivier Sarr\", \"Nick Richards\", \"Cody Zeller\", \n                         \"Enes Freedom\", \"Killian Tillie\", \"Paul Reed\", \"Paul Millsap\", \n                         \"Boban Marjanovic\", \"Frank Kaminsky\", \"Bruno Fernando\", \"Nerlens Noel\", \n                         \"Udoka Azubuike\", \"Greg Monroe\", \"Charles Bassey\", \"Neemias Queta\", \n                         \"Willie Cauley-Stein\", \"Udonis Haslem\", \"Luke Kornet\", \"Ed Davis\", \n                         \"Kai Jones\", \"Vernon Carey Jr.\", \"Marko Simonovic\", \"Tacko Fall\", \n                         \"Micah Potter\", \"Cheick Diallo\", \"Daniel Oturu\", \"Norvel Pelle\", \n                         \"Jordan Bell\", \"Javin DeLaurier\", \"Jaime Echenique\", \"Jay Huff\", \n                         \"Jon Teske\") ~ \"C\",\n      PLAYER_NAME %in% c(\"DeMar DeRozan\", \"Giannis Antetokounmpo\", \"Kevin Durant\", \"Miles Bridges\", \n                         \"Pascal Siakam\", \"Julius Randle\", \"Jaren Jackson Jr.\", \"Harrison Barnes\", \n                         \"Tobias Harris\", \"Bojan Bogdanovic\", \"Domantas Sabonis\", \"Scottie Barnes\", \n                         \"Kyle Kuzma\", \"Aaron Gordon\", \"Evan Mobley\", \"Kristaps Porziņģis\", \n                         \"Wendell Carter Jr.\", \"Carmelo Anthony\", \"Jae'Sean Tate\", \"Jerami Grant\", \n                         \"Dorian Finney-Smith\", \"John Collins\", \"Marcus Morris Sr.\", \"Cameron Johnson\", \n                         \"Trey Lyles\", \"Jeff Green\", \"Danilo Gallinari\", \"Paul George\", \n                         \"Darius Bazley\", \"Herbert Jones\", \"Georges Niang\", \"Brandon Clarke\", \n                         \"Obi Toppin\", \"Jaden McDaniels\", \"Jae Crowder\", \"Chuma Okeke\", \n                         \"Robert Covington\", \"Grant Williams\", \"Doug McDermott\", \"Marvin Bagley III\", \n                         \"P.J. Tucker\", \"Kyle Anderson\", \"Otto Porter Jr.\", \"Jarred Vanderbilt\", \n                         \"Taurean Prince\", \"Nicolas Batum\", \"Rui Hachimura\", \"Jalen Smith\", \n                         \"Aleksej Pokusevski\", \"Isaiah Roby\", \"Rudy Gay\", \"JaMychal Green\", \n                         \"Maxi Kleber\", \"Lamar Stevens\", \"Draymond Green\", \"James Johnson\", \n                         \"Eric Paschall\", \"Thaddeus Young\", \"Larry Nance Jr.\", \"Stanley Johnson\", \n                         \"Terry Taylor\", \"Davis Bertans\", \"Derrick Jones Jr.\", \"Justise Winslow\", \n                         \"Zeke Nnaji\", \"Dean Wade\", \"Xavier Tillman\", \"Day'Ron Sharpe\", \n                         \"Anthony Gill\", \"Marquese Chriss\", \"Sandro Mamukelashvili\", \"Patrick Williams\", \n                         \"Wenyen Gabriel\", \"Nathan Knight\", \"Santi Aldama\", \"Juancho Hernangomez\", \n                         \"Markieff Morris\", \"Ish Wainright\", \"Gary Clark\", \"Semi Ojeleye\", \n                         \"Reggie Perry\", \"Jericho Sims\", \"KZ Okpala\", \"Tyler Cook\", \n                         \"JT Thor\", \"Vlatko Čančar\", \"Mamadi Diakite\", \"Jabari Parker\", \n                         \"Jalen Johnson\", \"Jamorko Pickett\", \"Usman Garuba\", \"Devontae Cacok\", \n                         \"Alize Johnson\",  \"Bol Bol\", \"D.J. Wilson\", \"Chris Silva\", \n                         \"Freddie Gillespie\", \"Malik Fitts\", \"Isaiah Todd\", \"Gabriel Deck\", \n                         \"Petr Cornelie\", \"Sekou Doumbouya\", \"Juwan Morgan\", \"Moses Wright\", \n                         \"Sam Dekker\", \"Emanuel Terry\") ~ \"PF\",\n      PLAYER_NAME %in% c(\"Jayson Tatum\", \"Jaylen Brown\", \"RJ Barrett\", \"Khris Middleton\", \n                         \"Saddiq Bey\", \"Keldon Johnson\", \"Andrew Wiggins\", \"Brandon Ingram\", \n                         \"Jimmy Butler III\", \"Franz Wagner\", \"Mikal Bridges\", \"Kelly Oubre Jr.\", \n                         \"Lauri Markkanen\", \"Kevin Huerter\", \"Terance Mann\", \"Devin Vassell\", \n                         \"Norman Powell\", \"OG Anunoby\", \"Gordon Hayward\", \"Chris Boucher\", \n                         \"Justin Holiday\", \"Max Strus\", \"De'Andre Hunter\", \"Cedi Osman\", \n                         \"KJ Martin\", \"Deni Avdija\", \"Josh Giddey\", \"Jonathan Kuminga\", \n                         \"Bruce Brown\", \"Pat Connaughton\", \"Corey Kispert\", \"Oshae Brissett\", \n                         \"Dillon Brooks\", \"Isaac Okoro\", \"Reggie Bullock Jr.\", \"Royce O'Neale\", \n                         \"Caleb Martin\", \"Cody Martin\", \"Torrey Craig\", \"Ziaire Williams\", \n                         \"Cam Reddish\", \"Jordan Nwora\", \"Javonte Green\", \"Nassir Little\", \n                         \"Jeremy Lamb\", \"Danny Green\", \"Trendon Watford\", \"Kenrich Williams\", \n                         \"Jalen McDaniels\", \"CJ Elleby\", \"Keita Bates-Diop\", \"Trey Murphy III\", \n                         \"Josh Jackson\", \"Joe Ingles\", \"Naji Marshall\", \"Juan Toscano-Anderson\", \n                         \"Joshua Primo\", \"Kessler Edwards\", \"DeAndre' Bembry\", \"Troy Brown Jr.\", \n                         \"Svi Mykhailiuk\", \"Danuel House Jr.\", \"David Nwaba\", \"Timothe Luwawu-Cabarrot\", \n                         \"Greg Brown III\", \"Maurice Harkless\", \"Ignas Brazdeikis\", \"Aaron Nesmith\", \n                         \"Thanasis Antetokounmpo\", \"Kelan Martin\", \"Yuta Watanabe\", \"Rodney Hood\", \n                         \"Joe Harris\", \"Admiral Schofield\", \"Kent Bazemore\", \"Andre Iguodala\", \n                         \"Isaiah Livers\", \"Dylan Windler\", \"Jaylen Hoard\", \"Justin Anderson\", \n                         \"Trevor Ariza\", \"Keljin Blevins\", \"Kevin Knox II\", \"Michael Porter Jr.\", \n                         \"Georgios Kalaitzakis\", \"Justin Champagnie\", \"Jake Layman\", \"Braxton Key\", \n                         \"Sam Hauser\", \"Alfonzo McKinnie\", \"Leandro Bolmaro\", \"Theo Pinson\", \n                         \"Louis King\", \"Haywood Highsmith\", \"Didi Louzada\", \"Abdel Nader\", \n                         \"Paul Watson\", \"Chaundee Brown Jr.\", \"James Ennis III\", \"BJ Johnson\", \n                         \"Cameron Oliver\", \"Wes Iwundu\", \"Justin Jackson\", \"Aleem Ford\", \n                         \"Cameron McGriff\", \"Yves Pons\", \"Isaac Bonga\", \"Solomon Hill\", \n                         \"Eugene Omoruyi\", \"Robert Woodard II\", \"Paris Bass\", \"Trevon Scott\", \n                         \"Xavier Sneed\", \"Chandler Hutchison\", \"Jemerrio Jones\", \"Matt Ryan\", \n                         \"Aaron Henry\", \"George King\", \"Zylan Cheatham\", \"Feron Hunt\", \n                         \"Arnoldas Kulboka\", \"Anthony Lamb\") ~ \"SF\",\n      PLAYER_NAME %in% c(\"Devin Booker\",\"Donovan Mitchell\", \"Zach LaVine\", \"Anthony Edwards\", \n                         \"Terry Rozier\", \"Jordan Poole\", \"Desmond Bane\", \"Tyler Herro\", \n                         \"Jalen Brunson\", \"Gary Trent Jr.\", \"Jordan Clarkson\", \"Buddy Hield\", \n                         \"Reggie Jackson\", \"Jalen Green\", \"Evan Fournier\", \"Cade Cunningham\", \n                         \"Malik Monk\", \"Will Barton\", \"Kentavious Caldwell-Pope\", \"Derrick White\", \n                         \"Anfernee Simons\", \"Caris LeVert\", \"Seth Curry\", \"Malik Beasley\", \n                         \"Bogdan Bogdanović\", \"Alec Burks\", \"Bradley Beal\", \"Patty Mills\", \n                         \"Luguentz Dort\", \"Duncan Robinson\", \"Lonnie Walker IV\", \"Luke Kennard\", \n                         \"Josh Hart\", \"De'Anthony Melton\", \"Eric Gordon\", \"Grayson Allen\", \n                         \"Chris Duarte\", \"Bones Hyland\", \"Nickeil Alexander-Walker\", \"Ayo Dosunmu\", \n                         \"Gary Harris\", \"Josh Richardson\", \"Bryn Forbes\", \"Ben McLemore\", \n                         \"Klay Thompson\", \"Garrison Mathews\", \"Hamidou Diallo\", \"Terrence Ross\", \n                         \"Amir Coffey\", \"Tim Hardaway Jr.\", \"Talen Horton-Tucker\", \"Josh Christopher\", \n                         \"Landry Shamet\", \"Cam Thomas\", \"Jaylen Nowell\", \"Furkan Korkmaz\", \n                         \"Gary Payton II\", \"R.J. Hampton\", \"Damion Lee\", \"Shake Milton\", \n                         \"Austin Reaves\", \"Aaron Wiggins\", \"Austin Rivers\", \"Avery Bradley\", \n                         \"Lance Stephenson\", \"Donte DiVincenzo\", \"Matisse Thybulle\", \"John Konchar\", \n                         \"Brandon Boston\", \"Delon Wright\", \"Ty Jerome\", \"Josh Green\", \n                         \"Terence Davis\", \"Garrett Temple\", \"Alex Caruso\", \"Armoni Brooks\", \n                         \"Wayne Ellington\", \"Quentin Grimes\", \"Rodney McGruder\", \"Keon Johnson\", \n                         \"Wesley Matthews\", \"Frank Ntilikina\", \"Moses Moody\", \"Romeo Langford\", \n                         \"Davon Reed\", \"Lindy Waters III\", \"Isaiah Joe\", \"Tomas Satoransky\", \n                         \"Vít Krejčí\", \"Tony Snell\", \"Collin Sexton\", \"Jared Butler\", \n                         \"Matt Thomas\", \"Sterling Brown\", \"James Bouknight\", \"Josh Okogie\", \n                         \"Jarrett Culver\", \"Markus Howard\", \"Elijah Hughes\", \"Victor Oladipo\", \n                         \"PJ Dozier\", \"Skylar Mays\", \"Daishen Nix\", \"Kyle Guy\", \n                         \"Malcolm Hill\", \"Denzel Valentine\", \"Joe Wieskamp\", \"Jahmi'us Ramsey\", \n                         \"Xavier Moon\", \"Cassius Stanley\", \"Jay Scrubb\", \"Trevelin Queen\", \n                         \"Melvin Frazier Jr.\", \"Quinndary Weatherspoon\", \"Charlie Brown Jr.\", \n                         \"Mason Jones\", \"Sam Merrill\", \"Carsen Edwards\", \"Brodric Thomas\",\n                         \"Rayjon Tucker\", \"Nik Stauskas\", \"Tyrone Wallace\", \"Ruben Nembhard Jr.\", \n                         \"Langston Galloway\", \"Marcus Garrett\", \"Gabriel Lundberg\", \"Gabe York\", \n                         \"Mac McClung\", \"Dakota Mathias\", \"Craig Sword\", \"Miye Oni\",\n                         \"Jordan Schakel\", \"Wayne Selden\", \"Damyean Dotson\", \"Shaquille Harrison\", \n                         \"Scotty Hopson\", \"Rob Edwards\", \"Deividas Sirvydis\", \"Joel Ayayi\", \n                         \"Shaq Buchanan\", \"Ahmad Caver\", \"Jarron Cumberland\", \"DaQuan Jeffries\",\n                         \"Joe Johnson\", \"Jaylen Morris\", \"Jaden Springer\", \"Scottie Lewis\", \n                         \"Jordan Goodwin\", \"Tyler Hall\", \"Nate Hinton\", \"DeJon Jarreau\", \n                         \"David Johnson\", \"CJ Miles\", \"Matt Mooney\", \"Ade Murkey\", \"Trayvon Palmer\", \n                         \"MJ Walker\") ~ \"SG\",\n      TRUE ~ \"To_Map\" \n    ),\n    PTS = as.numeric(PTS),\n    AGE = as.numeric(AGE),\n    AST = as.numeric(AST),\n    REB = as.numeric(REB),\n    Position = as.factor(Position),\n    FG_PCT = as.numeric(FG_PCT),\n    FG3_PCT = as.numeric(FG3_PCT),\n    FT_PCT = as.numeric(FT_PCT),\n    OREB = as.numeric(OREB),\n    DREB = as.numeric(DREB),\n    TOV = as.numeric(TOV),\n    STL = as.numeric(STL),\n    BLK = as.numeric(BLK),\n    Peso = as.numeric(Peso)\n  ) \n\n\n# Facilitar carregamentos futuros\ndados_analise |&gt; write.csv2(\"includes/nba.csv\", row.names = FALSE)\n\n\n# Position - Armador (PG), Ala-armador (SG), Ala (SF), Ala-pivô (PF) e Pivô (C)"
  },
  {
    "objectID": "coleta.html#configurações-iniciais",
    "href": "coleta.html#configurações-iniciais",
    "title": "Configuração do Banco de Dados",
    "section": "",
    "text": "Mostrar código\nlibrary(hoopR) # Banco de Dados\nlibrary(tidyverse) # Framework do tidyverse\nlibrary(tidymodels) # Framework de modelagem\nlibrary(skimr) # Estatística descritiva rápida\nlibrary(DataExplorer) # Exploração do conjunto de dados\nlibrary(corrplot) # Gráfico de correlação\nlibrary(GGally) # Gráficos adicionais com estrutura ggplot2\nlibrary(stringr) # Para lidar com strings\nlibrary(glmnet) # LASSO, Ridge e Rede Elástica\nlibrary(MASS) # Discriminante Linear (LDA) e Quadrático (RL)\nlibrary(recipes) # Pré-processamento dos dados\nlibrary(class) #knn\nlibrary(themis) # Balanceamento de dados\nlibrary(discrim) # lda, qda\nlibrary(kknn) # (Kernel) K-NN\nlibrary(finetune) # Otimização fina de hiperparâmetros\nlibrary(gt)\nlibrary(naivebayes)\nlibrary(corrplot)\n\nggplot2::theme_set(theme_minimal()) # Ajustando Tema\n\n\n\n\n\n\n\nMostrar código\ndados_basicos &lt;- nba_leaguedashplayerstats(season = \"2021-22\", \n                                           per_mode = \"Per36\", \n                                           measure_type = \"Base\")$LeagueDashPlayerStats \n\n# A função puxa as informações de Altura e Peso pelo PERSON_ID/PLAYER_ID de cada Jogador\n\npegar_fisico &lt;- function(id) {\n  tryCatch({\n    res &lt;- nba_commonplayerinfo(player_id = id)\n    df &lt;- res$CommonPlayerInfo %&gt;% dplyr::select(PERSON_ID, HEIGHT, WEIGHT)\n    # Adiciona uma pausa para não sobrecarregar a API\n    Sys.sleep(0.5) \n    return(df)\n  }, error = function(e) {\n    cat(sprintf(\"Erro ou dados não encontrados para o ID: %s\\n\", id))\n    return(NULL) # Retorna NULL para IDs sem dados\n  })\n}\n\n# Roda para todos os 605 jogadores (isso vai levar alguns minutos)\ndf_todos_fisicos &lt;- map_dfr(dados_basicos$PLAYER_ID, pegar_fisico, .progress = TRUE)\n\n# Combina os dois bancos criados pelo PLAYER_ID E PERSON_ID\ndados_basicos &lt;- left_join(dados_basicos, df_todos_fisicos, by = c(\"PLAYER_ID\" = \"PERSON_ID\"))\n\n\n# Função para converter altura (6-8 -&gt; metros)\nconverter_altura &lt;- function(valor) {\n  partes &lt;- as.numeric(unlist(strsplit(valor, \"-\")))\n  # (Pés * 30.48) + (Polegadas * 2.54)\n  cm &lt;- (partes[1] * 30.48) + (partes[2] * 2.54)\n  return(cm / 100) \n}\n\n# Função para converter peso (lbs -&gt; kg)\nconverter_peso &lt;- function(lbs) {\n  return(lbs * 0.453592)\n}\n\ndados_basicos &lt;- dados_basicos |&gt;\n  rowwise() |&gt;\n  mutate(\n    Altura = converter_altura(HEIGHT),\n    Peso = converter_peso(as.numeric(WEIGHT))\n  )\n\n\ndados_analise &lt;- dados_basicos |&gt;\n  dplyr::select(PLAYER_NAME, TEAM_ABBREVIATION, AGE, PTS, AST, REB, OREB, DREB, TOV, STL, \n                BLK, FG_PCT, FG3_PCT, FT_PCT, Peso, Altura) |&gt;\n  dplyr::mutate(\n    Position = case_when(\n      PLAYER_NAME %in% c(\"Trae Young\", \"Luka Dončić\", \"Stephen Curry\", \"Ja Morant\", \n                         \"LaMelo Ball\", \"Darius Garland\", \"Russell Westbrook\", \n                         \"Dejounte Murray\", \"James Harden\", \"Shai Gilgeous-Alexander\", \n                         \"CJ McCollum\", \"De'Aaron Fox\", \"Fred VanVleet\", \n                         \"Tyrese Maxey\", \"Jrue Holiday\", \"Tyrese Haliburton\", \n                         \"D'Angelo Russell\", \"Cole Anthony\", \"Mike Conley\", \"Chris Paul\", \n                         \"Kevin Porter Jr.\", \"Monte Morris\", \"Spencer Dinwiddie\", \n                         \"Devonte' Graham\", \"Immanuel Quickley\", \"Dennis Schröder\", \n                         \"Davion Mitchell\", \"Marcus Smart\", \"Kyle Lowry\", \"Kyrie Irving\", \n                         \"Coby White\", \"Damian Lillard\", \"Malcolm Brogdon\", \"Tyus Jones\",\n                         \"Cameron Payne\", \"Tre Mann\", \"Gabe Vincent\", \"Jalen Suggs\", \n                         \"Frank Jackson\", \"Eric Bledsoe\", \"Patrick Beverley\", \n                         \"Raul Neto\", \"Cory Joseph\", \"Duane Washington Jr.\", \n                         \"Lonzo Ball\", \"Killian Hayes\", \"Ricky Rubio\", \"Payton Pritchard\", \n                         \"Kemba Walker\", \"Tre Jones\", \"Ish Smith\", \"Aaron Holiday\", \n                         \"Theo Maledon\", \"Lou Williams\", \"George Hill\", \"Facundo Campazzo\", \n                         \"Jose Alvarado\", \"Derrick Rose\", \"Brandon Williams\", \"D.J. Augustin\", \n                         \"Jevon Carter\", \"Jordan McLaughlin\", \"T.J. McConnell\", \"Trey Burke\", \n                         \"Saben Lee\", \"Dennis Smith Jr.\", \"Dalano Banton\", \"Trent Forrest\", \n                         \"Markelle Fultz\", \"Malachi Flynn\", \"Rajon Rondo\", \"Isaiah Thomas\", \n                         \"Keifer Sykes\", \"Brandon Goodwin\", \"Goran Dragic\", \"Elfrid Payton\", \n                         \"Kira Lewis Jr.\", \"Kris Dunn\", \"David Duke Jr.\", \"Miles McBride\", \n                         \"Brad Wanamaker\", \"Lindell Wigginton\", \"Justin Robinson\", \n                         \"Mychal Mulder\", \"Chris Chiozza\", \"Javonte Smart\", \n                         \"Devin Cannady\", \"Hassani Gravett\", \"Zavier Simpson\",\n                         \"Kevin Pangos\", \"Tim Frazier\", \"Jared Harper\", \n                         \"Brandon Knight\", \"Devon Dotson\", \"Derrick Walton Jr.\", \n                         \"Jeff Dowtin Jr.\", \"Tyler Johnson\", \"Ryan Arcidiacono\", \n                         \"Cassius Winston\", \"Myles Powell\", \"Tremont Waters\", \n                         \"Malik Newman\", \"Sharife Cooper\", \"McKinley Wright IV\", \n                         \"Darren Collison\", \"Carlik Jones\", \"Emmanuel Mudiay\", \"Tyrell Terry\", \n                         \"Cat Barber\", \"JaQuori McLaughlin\", \"Jaysean Paige\") ~ \"PG\",\n      PLAYER_NAME %in% c(\"Joel Embiid\", \"Nikola Jokić\", \"Karl-Anthony Towns\", \"LeBron James\", \n                         \"Jonas Valančiūnas\", \"Nikola Vučević\", \"Christian Wood\", \"Bam Adebayo\", \n                         \"Bobby Portis\", \"Rudy Gobert\", \"Kevin Love\", \"Deandre Ayton\", \n                         \"Montrezl Harrell\", \"Anthony Davis\", \"Jakob Poeltl\", \"Jarrett Allen\", \n                         \"Jusuf Nurkić\", \"Clint Capela\", \"Ivica Zubac\", \"Mo Bamba\", \n                         \"Dwight Powell\", \"Al Horford\", \"Alperen Sengun\", \"JaVale McGee\", \n                         \"Daniel Gafford\", \"P.J. Washington\", \"Precious Achiuwa\", \"Jaxson Hayes\", \n                         \"Naz Reid\", \"Mitchell Robinson\", \"LaMarcus Aldridge\", \"Robert Williams III\",   \n                         \"Isaiah Stewart\", \"Andre Drummond\", \"Moritz Wagner\", \"Isaiah Hartenstein\", \n                         \"Drew Eubanks\", \"Myles Turner\", \"Chimezie Metu\", \"Hassan Whiteside\", \n                         \"Steven Adams\", \"Kevon Looney\", \"Mason Plumlee\", \"Richaun Holmes\", \n                         \"Damian Jones\", \"Willy Hernangomez\", \"Nemanja Bjelica\", \"DeMarcus Cousins\", \n                         \"Dewayne Dedmon\", \"Nic Claxton\", \"Onyeka Okongwu\", \"Daniel Theis\", \n                         \"Dwight Howard\", \"Jeremiah Robinson-Earl\", \"Kelly Olynyk\", \"Serge Ibaka\", \n                         \"Blake Griffin\", \"Goga Bitadze\", \"Mike Muscala\", \"Tristan Thompson\", \n                         \"Omer Yurtseven\", \"Isaiah Jackson\", \"Jock Landale\", \"Robin Lopez\", \n                         \"Khem Birch\", \"Alex Len\", \"Taj Gibson\", \"Zach Collins\", \n                         \"Bismack Biyombo\", \"Derrick Favors\", \"DeAndre Jordan\", \"Thomas Bryant\", \n                         \"Luka Garza\", \"Moses Brown\", \"Tony Bradley\", \"Brook Lopez\", \n                         \"Gorgui Dieng\", \"Olivier Sarr\", \"Nick Richards\", \"Cody Zeller\", \n                         \"Enes Freedom\", \"Killian Tillie\", \"Paul Reed\", \"Paul Millsap\", \n                         \"Boban Marjanovic\", \"Frank Kaminsky\", \"Bruno Fernando\", \"Nerlens Noel\", \n                         \"Udoka Azubuike\", \"Greg Monroe\", \"Charles Bassey\", \"Neemias Queta\", \n                         \"Willie Cauley-Stein\", \"Udonis Haslem\", \"Luke Kornet\", \"Ed Davis\", \n                         \"Kai Jones\", \"Vernon Carey Jr.\", \"Marko Simonovic\", \"Tacko Fall\", \n                         \"Micah Potter\", \"Cheick Diallo\", \"Daniel Oturu\", \"Norvel Pelle\", \n                         \"Jordan Bell\", \"Javin DeLaurier\", \"Jaime Echenique\", \"Jay Huff\", \n                         \"Jon Teske\") ~ \"C\",\n      PLAYER_NAME %in% c(\"DeMar DeRozan\", \"Giannis Antetokounmpo\", \"Kevin Durant\", \"Miles Bridges\", \n                         \"Pascal Siakam\", \"Julius Randle\", \"Jaren Jackson Jr.\", \"Harrison Barnes\", \n                         \"Tobias Harris\", \"Bojan Bogdanovic\", \"Domantas Sabonis\", \"Scottie Barnes\", \n                         \"Kyle Kuzma\", \"Aaron Gordon\", \"Evan Mobley\", \"Kristaps Porziņģis\", \n                         \"Wendell Carter Jr.\", \"Carmelo Anthony\", \"Jae'Sean Tate\", \"Jerami Grant\", \n                         \"Dorian Finney-Smith\", \"John Collins\", \"Marcus Morris Sr.\", \"Cameron Johnson\", \n                         \"Trey Lyles\", \"Jeff Green\", \"Danilo Gallinari\", \"Paul George\", \n                         \"Darius Bazley\", \"Herbert Jones\", \"Georges Niang\", \"Brandon Clarke\", \n                         \"Obi Toppin\", \"Jaden McDaniels\", \"Jae Crowder\", \"Chuma Okeke\", \n                         \"Robert Covington\", \"Grant Williams\", \"Doug McDermott\", \"Marvin Bagley III\", \n                         \"P.J. Tucker\", \"Kyle Anderson\", \"Otto Porter Jr.\", \"Jarred Vanderbilt\", \n                         \"Taurean Prince\", \"Nicolas Batum\", \"Rui Hachimura\", \"Jalen Smith\", \n                         \"Aleksej Pokusevski\", \"Isaiah Roby\", \"Rudy Gay\", \"JaMychal Green\", \n                         \"Maxi Kleber\", \"Lamar Stevens\", \"Draymond Green\", \"James Johnson\", \n                         \"Eric Paschall\", \"Thaddeus Young\", \"Larry Nance Jr.\", \"Stanley Johnson\", \n                         \"Terry Taylor\", \"Davis Bertans\", \"Derrick Jones Jr.\", \"Justise Winslow\", \n                         \"Zeke Nnaji\", \"Dean Wade\", \"Xavier Tillman\", \"Day'Ron Sharpe\", \n                         \"Anthony Gill\", \"Marquese Chriss\", \"Sandro Mamukelashvili\", \"Patrick Williams\", \n                         \"Wenyen Gabriel\", \"Nathan Knight\", \"Santi Aldama\", \"Juancho Hernangomez\", \n                         \"Markieff Morris\", \"Ish Wainright\", \"Gary Clark\", \"Semi Ojeleye\", \n                         \"Reggie Perry\", \"Jericho Sims\", \"KZ Okpala\", \"Tyler Cook\", \n                         \"JT Thor\", \"Vlatko Čančar\", \"Mamadi Diakite\", \"Jabari Parker\", \n                         \"Jalen Johnson\", \"Jamorko Pickett\", \"Usman Garuba\", \"Devontae Cacok\", \n                         \"Alize Johnson\",  \"Bol Bol\", \"D.J. Wilson\", \"Chris Silva\", \n                         \"Freddie Gillespie\", \"Malik Fitts\", \"Isaiah Todd\", \"Gabriel Deck\", \n                         \"Petr Cornelie\", \"Sekou Doumbouya\", \"Juwan Morgan\", \"Moses Wright\", \n                         \"Sam Dekker\", \"Emanuel Terry\") ~ \"PF\",\n      PLAYER_NAME %in% c(\"Jayson Tatum\", \"Jaylen Brown\", \"RJ Barrett\", \"Khris Middleton\", \n                         \"Saddiq Bey\", \"Keldon Johnson\", \"Andrew Wiggins\", \"Brandon Ingram\", \n                         \"Jimmy Butler III\", \"Franz Wagner\", \"Mikal Bridges\", \"Kelly Oubre Jr.\", \n                         \"Lauri Markkanen\", \"Kevin Huerter\", \"Terance Mann\", \"Devin Vassell\", \n                         \"Norman Powell\", \"OG Anunoby\", \"Gordon Hayward\", \"Chris Boucher\", \n                         \"Justin Holiday\", \"Max Strus\", \"De'Andre Hunter\", \"Cedi Osman\", \n                         \"KJ Martin\", \"Deni Avdija\", \"Josh Giddey\", \"Jonathan Kuminga\", \n                         \"Bruce Brown\", \"Pat Connaughton\", \"Corey Kispert\", \"Oshae Brissett\", \n                         \"Dillon Brooks\", \"Isaac Okoro\", \"Reggie Bullock Jr.\", \"Royce O'Neale\", \n                         \"Caleb Martin\", \"Cody Martin\", \"Torrey Craig\", \"Ziaire Williams\", \n                         \"Cam Reddish\", \"Jordan Nwora\", \"Javonte Green\", \"Nassir Little\", \n                         \"Jeremy Lamb\", \"Danny Green\", \"Trendon Watford\", \"Kenrich Williams\", \n                         \"Jalen McDaniels\", \"CJ Elleby\", \"Keita Bates-Diop\", \"Trey Murphy III\", \n                         \"Josh Jackson\", \"Joe Ingles\", \"Naji Marshall\", \"Juan Toscano-Anderson\", \n                         \"Joshua Primo\", \"Kessler Edwards\", \"DeAndre' Bembry\", \"Troy Brown Jr.\", \n                         \"Svi Mykhailiuk\", \"Danuel House Jr.\", \"David Nwaba\", \"Timothe Luwawu-Cabarrot\", \n                         \"Greg Brown III\", \"Maurice Harkless\", \"Ignas Brazdeikis\", \"Aaron Nesmith\", \n                         \"Thanasis Antetokounmpo\", \"Kelan Martin\", \"Yuta Watanabe\", \"Rodney Hood\", \n                         \"Joe Harris\", \"Admiral Schofield\", \"Kent Bazemore\", \"Andre Iguodala\", \n                         \"Isaiah Livers\", \"Dylan Windler\", \"Jaylen Hoard\", \"Justin Anderson\", \n                         \"Trevor Ariza\", \"Keljin Blevins\", \"Kevin Knox II\", \"Michael Porter Jr.\", \n                         \"Georgios Kalaitzakis\", \"Justin Champagnie\", \"Jake Layman\", \"Braxton Key\", \n                         \"Sam Hauser\", \"Alfonzo McKinnie\", \"Leandro Bolmaro\", \"Theo Pinson\", \n                         \"Louis King\", \"Haywood Highsmith\", \"Didi Louzada\", \"Abdel Nader\", \n                         \"Paul Watson\", \"Chaundee Brown Jr.\", \"James Ennis III\", \"BJ Johnson\", \n                         \"Cameron Oliver\", \"Wes Iwundu\", \"Justin Jackson\", \"Aleem Ford\", \n                         \"Cameron McGriff\", \"Yves Pons\", \"Isaac Bonga\", \"Solomon Hill\", \n                         \"Eugene Omoruyi\", \"Robert Woodard II\", \"Paris Bass\", \"Trevon Scott\", \n                         \"Xavier Sneed\", \"Chandler Hutchison\", \"Jemerrio Jones\", \"Matt Ryan\", \n                         \"Aaron Henry\", \"George King\", \"Zylan Cheatham\", \"Feron Hunt\", \n                         \"Arnoldas Kulboka\", \"Anthony Lamb\") ~ \"SF\",\n      PLAYER_NAME %in% c(\"Devin Booker\",\"Donovan Mitchell\", \"Zach LaVine\", \"Anthony Edwards\", \n                         \"Terry Rozier\", \"Jordan Poole\", \"Desmond Bane\", \"Tyler Herro\", \n                         \"Jalen Brunson\", \"Gary Trent Jr.\", \"Jordan Clarkson\", \"Buddy Hield\", \n                         \"Reggie Jackson\", \"Jalen Green\", \"Evan Fournier\", \"Cade Cunningham\", \n                         \"Malik Monk\", \"Will Barton\", \"Kentavious Caldwell-Pope\", \"Derrick White\", \n                         \"Anfernee Simons\", \"Caris LeVert\", \"Seth Curry\", \"Malik Beasley\", \n                         \"Bogdan Bogdanović\", \"Alec Burks\", \"Bradley Beal\", \"Patty Mills\", \n                         \"Luguentz Dort\", \"Duncan Robinson\", \"Lonnie Walker IV\", \"Luke Kennard\", \n                         \"Josh Hart\", \"De'Anthony Melton\", \"Eric Gordon\", \"Grayson Allen\", \n                         \"Chris Duarte\", \"Bones Hyland\", \"Nickeil Alexander-Walker\", \"Ayo Dosunmu\", \n                         \"Gary Harris\", \"Josh Richardson\", \"Bryn Forbes\", \"Ben McLemore\", \n                         \"Klay Thompson\", \"Garrison Mathews\", \"Hamidou Diallo\", \"Terrence Ross\", \n                         \"Amir Coffey\", \"Tim Hardaway Jr.\", \"Talen Horton-Tucker\", \"Josh Christopher\", \n                         \"Landry Shamet\", \"Cam Thomas\", \"Jaylen Nowell\", \"Furkan Korkmaz\", \n                         \"Gary Payton II\", \"R.J. Hampton\", \"Damion Lee\", \"Shake Milton\", \n                         \"Austin Reaves\", \"Aaron Wiggins\", \"Austin Rivers\", \"Avery Bradley\", \n                         \"Lance Stephenson\", \"Donte DiVincenzo\", \"Matisse Thybulle\", \"John Konchar\", \n                         \"Brandon Boston\", \"Delon Wright\", \"Ty Jerome\", \"Josh Green\", \n                         \"Terence Davis\", \"Garrett Temple\", \"Alex Caruso\", \"Armoni Brooks\", \n                         \"Wayne Ellington\", \"Quentin Grimes\", \"Rodney McGruder\", \"Keon Johnson\", \n                         \"Wesley Matthews\", \"Frank Ntilikina\", \"Moses Moody\", \"Romeo Langford\", \n                         \"Davon Reed\", \"Lindy Waters III\", \"Isaiah Joe\", \"Tomas Satoransky\", \n                         \"Vít Krejčí\", \"Tony Snell\", \"Collin Sexton\", \"Jared Butler\", \n                         \"Matt Thomas\", \"Sterling Brown\", \"James Bouknight\", \"Josh Okogie\", \n                         \"Jarrett Culver\", \"Markus Howard\", \"Elijah Hughes\", \"Victor Oladipo\", \n                         \"PJ Dozier\", \"Skylar Mays\", \"Daishen Nix\", \"Kyle Guy\", \n                         \"Malcolm Hill\", \"Denzel Valentine\", \"Joe Wieskamp\", \"Jahmi'us Ramsey\", \n                         \"Xavier Moon\", \"Cassius Stanley\", \"Jay Scrubb\", \"Trevelin Queen\", \n                         \"Melvin Frazier Jr.\", \"Quinndary Weatherspoon\", \"Charlie Brown Jr.\", \n                         \"Mason Jones\", \"Sam Merrill\", \"Carsen Edwards\", \"Brodric Thomas\",\n                         \"Rayjon Tucker\", \"Nik Stauskas\", \"Tyrone Wallace\", \"Ruben Nembhard Jr.\", \n                         \"Langston Galloway\", \"Marcus Garrett\", \"Gabriel Lundberg\", \"Gabe York\", \n                         \"Mac McClung\", \"Dakota Mathias\", \"Craig Sword\", \"Miye Oni\",\n                         \"Jordan Schakel\", \"Wayne Selden\", \"Damyean Dotson\", \"Shaquille Harrison\", \n                         \"Scotty Hopson\", \"Rob Edwards\", \"Deividas Sirvydis\", \"Joel Ayayi\", \n                         \"Shaq Buchanan\", \"Ahmad Caver\", \"Jarron Cumberland\", \"DaQuan Jeffries\",\n                         \"Joe Johnson\", \"Jaylen Morris\", \"Jaden Springer\", \"Scottie Lewis\", \n                         \"Jordan Goodwin\", \"Tyler Hall\", \"Nate Hinton\", \"DeJon Jarreau\", \n                         \"David Johnson\", \"CJ Miles\", \"Matt Mooney\", \"Ade Murkey\", \"Trayvon Palmer\", \n                         \"MJ Walker\") ~ \"SG\",\n      TRUE ~ \"To_Map\" \n    ),\n    PTS = as.numeric(PTS),\n    AGE = as.numeric(AGE),\n    AST = as.numeric(AST),\n    REB = as.numeric(REB),\n    Position = as.factor(Position),\n    FG_PCT = as.numeric(FG_PCT),\n    FG3_PCT = as.numeric(FG3_PCT),\n    FT_PCT = as.numeric(FT_PCT),\n    OREB = as.numeric(OREB),\n    DREB = as.numeric(DREB),\n    TOV = as.numeric(TOV),\n    STL = as.numeric(STL),\n    BLK = as.numeric(BLK),\n    Peso = as.numeric(Peso)\n  ) \n\n\n# Facilitar carregamentos futuros\ndados_analise |&gt; write.csv2(\"includes/nba.csv\", row.names = FALSE)\n\n\n# Position - Armador (PG), Ala-armador (SG), Ala (SF), Ala-pivô (PF) e Pivô (C)"
  },
  {
    "objectID": "coleta.html#fonte-dos-dados",
    "href": "coleta.html#fonte-dos-dados",
    "title": "Configuração do Banco de Dados",
    "section": "2 Fonte dos Dados",
    "text": "2 Fonte dos Dados\nOs dados utilizados neste projeto referem-se a estatística individuais de cada jogador da NBA na Temporada 2021-2022, obtidas com bases públicas que consolidam as informações de desempenho por atleta ao longo da temporada. Vale ressaltar que a base foi retirada do pacote hoopR juntamente ao site Basketball Reference."
  },
  {
    "objectID": "coleta.html#descrição-das-variáveis",
    "href": "coleta.html#descrição-das-variáveis",
    "title": "Configuração do Banco de Dados",
    "section": "3 Descrição das Variáveis",
    "text": "3 Descrição das Variáveis\nO banco de dados possui 17 variáveis, na qual, as variáveis PLAYER_NAME e TEAM_ABBREVIATION são irrelevantes para o projeto. Sendo assim, as variáveis utilizadas serão:\n\n\n\nVariável\nDescrição\n\n\n\n\nAGE\nIdade do jogador\n\n\nPTS\nPontos por 36 minutos\n\n\nAST\nAssistências por 36 minutos\n\n\nREB\nRebotes por 36 minutos\n\n\nOREB\nRebotes ofensivos por 36 minutos\n\n\nDREB\nRebotes defensivos por 36 minutos\n\n\nTOV\nPerdas de Posse por 36 minutos\n\n\nSTL\nRoubos de bola por 36 minutos\n\n\nBLK\nTocos por 36 minutos\n\n\nFG_PCT\nPercentual de arremessos convertidos\n\n\nFG3_PCT\nPercentual de arremessos de 3 pontos\n\n\nFT_PCT\nPercentual de lances livres\n\n\nPeso\nPeso do jogador (KG)\n\n\nAltura\nAltura do jogador (m)\n\n\nPosition\nPosição principal do jogador"
  },
  {
    "objectID": "modelo.html",
    "href": "modelo.html",
    "title": "Ajuste e Avaliação do Modelo",
    "section": "",
    "text": "Divisão: 70% treino e 30% teste\nVariável resposta: Position\n\n\n\nMostrar código\nset.seed(16723)\n\ndados_analise_split &lt;- initial_split(dados_analise, prop = .7, strata = Position)\ntrain_data &lt;- training(dados_analise_split)\ntest_data &lt;- testing(dados_analise_split)"
  },
  {
    "objectID": "modelo.html#preparação-dos-dados",
    "href": "modelo.html#preparação-dos-dados",
    "title": "Ajuste e Avaliação do Modelo",
    "section": "",
    "text": "Divisão: 70% treino e 30% teste\nVariável resposta: Position\n\n\n\nMostrar código\nset.seed(16723)\n\ndados_analise_split &lt;- initial_split(dados_analise, prop = .7, strata = Position)\ntrain_data &lt;- training(dados_analise_split)\ntest_data &lt;- testing(dados_analise_split)"
  },
  {
    "objectID": "modelo.html#feature-engineering-e-ajuste-do-modelo",
    "href": "modelo.html#feature-engineering-e-ajuste-do-modelo",
    "title": "Ajuste e Avaliação do Modelo",
    "section": "2 Feature Engineering e Ajuste do Modelo",
    "text": "2 Feature Engineering e Ajuste do Modelo\n\n2.1 Objetivo da Feature Engineering\n\nMelhorar a capacidade preditiva do modelo\nRepresentar de forma mais fiel os papéis funcionais desempenhados pelos atletas em quadra\nMelhorar a separabilidade entre posições híbridas\n\n\n2.1.1 AST_TOV_RATIO\n\nDefinido como a razão entre as assistências (AST) e turnovers (TOV).\nMede a eficiência na tomada de decisão e no controle da posse de bola.\nAmplamente utilizada para avaliação de organizadores ofensivos.\nO uso do 0.1 evita a divisão por zero.\n\n\n\n2.1.2 REB_HEIGTH_INTER\n\nInteração entre os rebotes e a altura do jogador\nDiferencia jogadores altos dominantes no rebote de jogadores altos pouco eficientes\nPermite identificar reboteadores eficientes independentemente da altura\n\n\n\n2.1.3 PLAYMAKER_SCORE\n\nCalculada como a diferença entre as versões padronizadas de AST e TOV.\nDistingue criadores eficientes de jogadores propensos a erros.\nRelevante para armadores e alas com função de criação.\n\n\n\n2.1.4 RIM_PROTECT\n\nIndicador composto de presença defensiva no garrafão.\nCombina controle de rebotes e proteção de cesta\nCaracterístico de pivôs e alas-pivôs defensivos\n\n\n\n2.1.5 PTS_EFF\n\nRepresenta pontuação ajustada pela eficiência de arremesso\nPenaliza volume ofensivo ineficiente\nDistingue scorers eficientes de scorers de alto volume e baixo aproveitamento\n\n\n\n\n2.2 Pré-Processamento\n\n\nMostrar código\ndados_analise_rec &lt;- recipe(Position ~ ., data = train_data) |&gt;\n  \n  step_mutate(\n    AST_TOV_RATIO = AST / (TOV + 0.1),\n    REB_HEIGHT_INTER = REB * Altura,\n    PLAYMAKER_SCORE = AST - TOV,\n    RIM_PROTECT = REB + BLK,\n    PTS_EFF = PTS * FG_PCT) |&gt;  \n  step_YeoJohnson(all_numeric_predictors()) |&gt; # Transformação Yeo-Johnson\n  step_normalize(all_numeric_predictors()) |&gt; # normaliza variáveis numéricas para terem média 0 e variância 1\n  step_corr(all_numeric_predictors(), threshold = 0.8,\n            method = \"spearman\"\n  ) # remove preditores que tenham alta correlação com algum outro preditor\n\n\n\n\nMostrar código\nprepped_data &lt;- dados_analise_rec |&gt; # usa a receita\n  prep() |&gt; # aplica a receita no conjunto de treinamento\n  juice()# extrai apenas o dataframe preprocessado\n\n\n\n\n2.3 Conjunto de Validação\nUtilizando o método k-fold cross validation para construir um conjunto de validação com k-folds. Considerando k = 10.\n\n\nMostrar código\ncv_folds &lt;- vfold_cv(train_data, v = 10, strata = Position)\n\n\n\n\n2.4 Otimização de Hiperparâmetros\n\n\nMostrar código\nknn_spec &lt;- nearest_neighbor(neighbors = tune()) %&gt;% # K-NN\n  set_engine(\"kknn\")%&gt;%\n  set_mode(\"classification\")\n\nnbayes_spec &lt;- naive_Bayes() %&gt;% # Naive Bayes\n  set_engine(\"naivebayes\") %&gt;%\n  set_mode(\"classification\")\n\n\nmultinom_spec &lt;- multinom_reg() %&gt;% # Reg Multinominal\n  set_engine(\"nnet\") %&gt;% \n  set_mode(\"classification\")\n\nlda_spec &lt;- discrim_linear() %&gt;% # Linear discriminant analysis\n  set_engine(\"MASS\") %&gt;%\n  set_mode(\"classification\")\n\nqda_spec &lt;- discrim_quad() %&gt;% # Quadratic discriminant analysis\n  set_engine(\"MASS\") %&gt;%\n  set_mode(\"classification\")\n\n\n\n\nMostrar código\nwf = workflow_set(\n  preproc = list(dados_analise_rec),\n  models = list(\n    knn_fit = knn_spec,\n    nbayes_fit = nbayes_spec,\n    linear_fit = multinom_spec,\n    lda_fit = lda_spec,\n    qda_fit = qda_spec\n  )\n) %&gt;%\n  mutate(wflow_id = gsub(\"(recipe_)\", \"\", wflow_id))\n\n\n\n\nMostrar código\ngrid_ctrl = control_grid(\n  save_pred = TRUE,\n  parallel_over = \"resamples\",\n  save_workflow = TRUE\n)\ngrid_results = wf %&gt;%\n  workflow_map(\n    seed = 16723,\n    resamples = cv_folds,\n    grid = 10,\n    control = grid_ctrl\n  )\n\n\nUsando a acurácia no conjunto de validão de acordo com o melhor conjunto de hiperparâmetros obtido para cada modelo.\n\n\nMostrar código\nautoplot(grid_results, metric = \"accuracy\")\n\n\n\n\n\n\n\n\n\nOrdenando pelos melhores\n\n\nMostrar código\nautoplot(grid_results, select_best = TRUE ,metric = \"accuracy\")\n\n\n\n\n\n\n\n\n\nUtilizando outras métricas para avaliar\n\n\nMostrar código\nautoplot(grid_results)\n\n\n\n\n\n\n\n\n\nOrdenando os modelos pela métrica de acurácia no conjunto de Validação\n\n\nMostrar código\nresults_acc = workflowsets::rank_results(grid_results,\n                                         select_best = TRUE,\n                                         rank_metric = \"accuracy\") %&gt;%\n  filter(.metric == \"accuracy\") %&gt;%\n  dplyr::select(wflow_id, mean, std_err, model, rank)\nresults_acc %&gt;% gt()\n\n\n\n\n\n\n\n\nwflow_id\nmean\nstd_err\nmodel\nrank\n\n\n\n\nlinear_fit\n0.6434905\n0.01344878\nmultinom_reg\n1\n\n\nlda_fit\n0.6338649\n0.01192029\ndiscrim_linear\n2\n\n\nknn_fit\n0.6163853\n0.02392282\nnearest_neighbor\n3\n\n\nnbayes_fit\n0.6119040\n0.02155317\nnaive_Bayes\n4\n\n\nqda_fit\n0.5363400\n0.01901796\ndiscrim_quad\n5\n\n\n\n\n\n\n\nEscolhendo o melhor conjunto de hiperparâmetros para cada modelo de acordo com a acurácia no conjunto de validação.\n\n\nMostrar código\nbest_set_linear = grid_results %&gt;% \n  extract_workflow_set_result(\"linear_fit\") %&gt;% \n  select_best(metric = \"accuracy\")\nbest_set_knn = grid_results %&gt;% \n  extract_workflow_set_result(\"knn_fit\") %&gt;% \n  select_best(metric = \"accuracy\")\nbest_set_nbayes = grid_results %&gt;%\n  extract_workflow_set_result(\"nbayes_fit\") %&gt;% \n  select_best(metric = \"accuracy\")\nbest_set_lda = grid_results %&gt;% \n  extract_workflow_set_result(\"lda_fit\") %&gt;% \n  select_best(metric = \"accuracy\")\nbest_set_qda = grid_results %&gt;% \n  extract_workflow_set_result(\"qda_fit\") %&gt;% \n  select_best(metric = \"accuracy\")"
  },
  {
    "objectID": "modelo.html#avaliação-dos-modelos-no-conjunto-de-teste",
    "href": "modelo.html#avaliação-dos-modelos-no-conjunto-de-teste",
    "title": "Ajuste e Avaliação do Modelo",
    "section": "3 Avaliação dos modelos no conjunto de teste",
    "text": "3 Avaliação dos modelos no conjunto de teste\n\n\nMostrar código\ntest_results &lt;- function(rc_rslts, fit_obj, par_set, split_obj) {\n  res &lt;- rc_rslts %&gt;%\n    extract_workflow(fit_obj) %&gt;%\n    finalize_workflow(par_set) %&gt;%\n    last_fit(split = split_obj,\n             metrics = metric_set(\n               accuracy,roc_auc,\n               f_meas,precision,\n               recall,spec,kap))\n  res\n}\n\n\n\n\nMostrar código\ntest_results_linear = test_results(grid_results,\"linear_fit\",best_set_linear,dados_analise_split)\ntest_results_knn = test_results(grid_results,\"knn_fit\",best_set_knn,dados_analise_split)\ntest_results_nbayes = test_results(grid_results,\"nbayes_fit\",best_set_nbayes,dados_analise_split)\ntest_results_lda = test_results(grid_results,\"lda_fit\",best_set_lda,dados_analise_split)\ntest_results_qda = test_results(grid_results,\"qda_fit\",best_set_qda,dados_analise_split)\n\n\n\n\nMostrar código\nmetrics_table = rbind(\n  collect_metrics(test_results_linear)$.estimate,\n  collect_metrics(test_results_knn)$.estimate,\n  collect_metrics(test_results_nbayes)$.estimate,\n  collect_metrics(test_results_lda)$.estimate,\n  collect_metrics(test_results_qda)$.estimate\n)\n\nmetrics_table &lt;- round(metrics_table, 4)\nrnms = c(\"multi_reg\",\"k_nn\",\"naive_bayes\", \"lin_discr\",\"quad_discr\")\nmetrics_table &lt;- cbind(rnms, metrics_table)\nmetrics_table &lt;- metrics_table %&gt;% dplyr::as_tibble()\n\n\n\n\nMostrar código\ncolnames(metrics_table) = c(\"method\",\"acc\",\"roc_auc\",\"f_meas\",\n                            \"precision\",\"recall\",\"spec\",\"kappa\")\n\n\n\n\nMostrar código\nmetrics_table %&gt;%\n  arrange(desc(acc),desc(roc_auc),desc(f_meas),desc(kappa)) %&gt;%\n  gt()\n\n\n\n\n\n\n\n\nmethod\nacc\nroc_auc\nf_meas\nprecision\nrecall\nspec\nkappa\n\n\n\n\nmulti_reg\n0.6848\n0.6888\n0.6954\n0.6861\n0.9201\n0.6029\n0.9127\n\n\nlin_discr\n0.6685\n0.6638\n0.6718\n0.6699\n0.9166\n0.5834\n0.916\n\n\nnaive_bayes\n0.625\n0.613\n0.616\n0.6148\n0.9057\n0.5272\n0.8958\n\n\nk_nn\n0.5978\n0.5988\n0.6108\n0.5922\n0.8975\n0.4911\n0.8873\n\n\nquad_discr\n0.587\n0.595\n0.5983\n0.5957\n0.8962\n0.4823\n0.832"
  }
]